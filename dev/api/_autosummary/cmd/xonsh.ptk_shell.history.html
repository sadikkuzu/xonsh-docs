


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>xonsh.ptk_shell.history &#8212; xonsh 0.11.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/numpy_friendly.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/runthis-client.min.js"></script>

    
    
     
        <script src="../../../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../../../_static/cloud.base.js"></script>
    

    
     
        <script src="../../../_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="../../../_static/magic_conch.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="xonsh.ptk_shell.key_bindings" href="xonsh.ptk_shell.key_bindings.html" />
    <link rel="prev" title="xonsh.ptk_shell.formatter" href="xonsh.ptk_shell.formatter.html" />
     
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="http://xon.sh/api/_autosummary/cmd/xonsh.ptk_shell.history.html"/>

  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="xonsh.ptk_shell.key_bindings.html" title="xonsh.ptk_shell.key_bindings"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="xonsh.ptk_shell.formatter.html" title="xonsh.ptk_shell.formatter"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../../contents.html">xonsh 0.11.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../index.html" >Xonsh API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="xonsh.ptk_shell.html" accesskey="U">xonsh.ptk_shell</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">xonsh.ptk_shell.history</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-xonsh.ptk_shell.history">
<span id="xonsh-ptk-shell-history"></span><h1>xonsh.ptk_shell.history<a class="headerlink" href="#module-xonsh.ptk_shell.history" title="Permalink to this headline">¶</a></h1>
<p>History object for use with prompt_toolkit.</p>
<dl class="py class">
<dt class="sig sig-object py" id="xonsh.ptk_shell.history.PromptToolkitHistory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xonsh.ptk_shell.history.</span></span><span class="sig-name descname"><span class="pre">PromptToolkitHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_prev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/xonsh/ptk_shell/history.html#PromptToolkitHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xonsh.ptk_shell.history.PromptToolkitHistory" title="Permalink to this definition">¶</a></dt>
<dd><p>History class that implements the prompt-toolkit history interface
with the xonsh backend.</p>
<p>Initialize history object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="xonsh.ptk_shell.history.PromptToolkitHistory.append_string">
<span class="sig-name descname"><span class="pre">append_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#xonsh.ptk_shell.history.PromptToolkitHistory.append_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Add string to the history.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xonsh.ptk_shell.history.PromptToolkitHistory.get_strings">
<span class="sig-name descname"><span class="pre">get_strings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#xonsh.ptk_shell.history.PromptToolkitHistory.get_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the strings from the history that are loaded so far.
(In order. Oldest item first.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xonsh.ptk_shell.history.PromptToolkitHistory.load">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#xonsh.ptk_shell.history.PromptToolkitHistory.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the history and yield all the entries in reverse order (latest,
most recent history entry first).</p>
<p>This method can be called multiple times from the <cite>Buffer</cite> to
repopulate the history when prompting for a new input. So we are
responsible here for both caching, and making sure that strings that
were were appended to the history will be incorporated next time this
method is called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xonsh.ptk_shell.history.PromptToolkitHistory.load_history_strings">
<span class="sig-name descname"><span class="pre">load_history_strings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/xonsh/ptk_shell/history.html#PromptToolkitHistory.load_history_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xonsh.ptk_shell.history.PromptToolkitHistory.load_history_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads synchronous history strings</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xonsh.ptk_shell.history.PromptToolkitHistory.store_string">
<span class="sig-name descname"><span class="pre">store_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/xonsh/ptk_shell/history.html#PromptToolkitHistory.store_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xonsh.ptk_shell.history.PromptToolkitHistory.store_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the string in persistent storage.</p>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../../contents.html" title="contents">
          <img class="logo" src="../../../_static/ascii_conch_part_transparent_tight.png" alt="Logo"/>
        </a></p>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="xonsh.ptk_shell.formatter.html"
                          title="Previous page">&larr; xonsh.ptk_shell.formatter</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="xonsh.ptk_shell.key_bindings.html"
                          title="Next page">&rarr; xonsh.ptk_shell.key_bindings</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/api/_autosummary/cmd/xonsh.ptk_shell.history.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="xonsh.ptk_shell.key_bindings.html" title="xonsh.ptk_shell.key_bindings"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="xonsh.ptk_shell.formatter.html" title="xonsh.ptk_shell.formatter"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../../contents.html">xonsh 0.11.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../index.html" >Xonsh API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="xonsh.ptk_shell.html" >xonsh.ptk_shell</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">xonsh.ptk_shell.history</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Anthony Scopatz.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>